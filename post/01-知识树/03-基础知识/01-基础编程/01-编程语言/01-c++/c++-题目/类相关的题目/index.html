<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>类相关的题目 - 迭代自己</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="iterateself" />
  <meta name="description" content="构造函数的初始化列表 Q 14 :这题没看懂 题目： 有哪几种情况只能用 intialization list 而不能用 assignment？ 答案*: 1. 当类中含有const成员变量；con" />

  <meta name="keywords" content="Hugo, theme, even" />






<meta name="generator" content="Hugo 0.47.1" />


<link rel="canonical" href="http://iterate.site/post/01-%E7%9F%A5%E8%AF%86%E6%A0%91/03-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/01-%E5%9F%BA%E7%A1%80%E7%BC%96%E7%A8%8B/01-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/01-c&#43;&#43;/c&#43;&#43;-%E9%A2%98%E7%9B%AE/%E7%B1%BB%E7%9B%B8%E5%85%B3%E7%9A%84%E9%A2%98%E7%9B%AE/" />

<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">




<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>


<link href="/dist/even.min.css?v=3.2.0" rel="stylesheet">
<link href="/lib/fancybox/jquery.fancybox-3.1.20.min.css" rel="stylesheet">




<meta property="og:title" content="类相关的题目" />
<meta property="og:description" content="构造函数的初始化列表 Q 14 :这题没看懂 题目： 有哪几种情况只能用 intialization list 而不能用 assignment？ 答案*: 1. 当类中含有const成员变量；con" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://iterate.site/post/01-%E7%9F%A5%E8%AF%86%E6%A0%91/03-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/01-%E5%9F%BA%E7%A1%80%E7%BC%96%E7%A8%8B/01-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/01-c&#43;&#43;/c&#43;&#43;-%E9%A2%98%E7%9B%AE/%E7%B1%BB%E7%9B%B8%E5%85%B3%E7%9A%84%E9%A2%98%E7%9B%AE/" /><meta property="article:published_time" content="2018-08-28T00:00:00&#43;00:00"/>
<meta property="article:modified_time" content="2018-08-28T00:00:00&#43;00:00"/>
<meta itemprop="name" content="类相关的题目">
<meta itemprop="description" content="构造函数的初始化列表 Q 14 :这题没看懂 题目： 有哪几种情况只能用 intialization list 而不能用 assignment？ 答案*: 1. 当类中含有const成员变量；con">


<meta itemprop="datePublished" content="2018-08-28T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2018-08-28T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="1923">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="类相关的题目"/>
<meta name="twitter:description" content="构造函数的初始化列表 Q 14 :这题没看懂 题目： 有哪几种情况只能用 intialization list 而不能用 assignment？ 答案*: 1. 当类中含有const成员变量；con"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">迭代自己</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">主页</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">归档</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">关于</li>
      </a><a href="/catalog/">
        <li class="mobile-menu-item">完整目录</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">迭代自己</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">主页</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">归档</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">关于</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/catalog/">完整目录</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">类相关的题目</h1>

      <div class="post-meta">
        <span class="post-time"> 2018-08-28 </span>
        
        <span class="more-meta"> 1923 words </span>
        <span class="more-meta"> 4 mins read </span>
        <span id="busuanzi_container_page_pv" class="more-meta"> <span id="busuanzi_value_page_pv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> times read </span>
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  
  <div class="post-toc-content">
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#构造函数的初始化列表">构造函数的初始化列表</a>
<ul>
<li>
<ul>
<li><a href="#q-14-span-style-color-red-这题没看懂-span">Q 14 :<span style="color:red;">这题没看懂</span></a></li>
</ul></li>
</ul></li>
<li><a href="#类与结构体的大小">类与结构体的大小</a>
<ul>
<li>
<ul>
<li><a href="#q-15-http-blog-csdn-net-yby4769250-article-details-7294696"><a href="http://blog.csdn.net/yby4769250/article/details/7294696">Q 15</a> :</a></li>
<li><a href="#q-3-http-www-cnblogs-com-motadou-archive-2009-01-17-1558438-html"><a href="http://www.cnblogs.com/motadou/archive/2009/01/17/1558438.html">Q 3</a> :</a></li>
<li><a href="#q-23">Q 23 :</a></li>
</ul></li>
</ul></li>
<li><a href="#继承-虚函数">继承 虚函数</a>
<ul>
<li>
<ul>
<li><a href="#q-1-http-www-cnblogs-com-skynet-p-3343726-html"><a href="http://www.cnblogs.com/skynet/p/3343726.html">Q 1</a> :</a></li>
<li><a href="#q-2-http-www-cnblogs-com-qlwy-archive-2011-08-25-2153584-html"><a href="http://www.cnblogs.com/qlwy/archive/2011/08/25/2153584.html">Q 2</a> :</a></li>
<li><a href="#q-13-span-style-color-red-这题没看懂-span">Q 13 :<span style="color:red;">这题没看懂</span></a></li>
<li><a href="#q-20">Q 20 :</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</nav>
  </div>
</div>

    
    

    
    <div class="post-content">
      

<h2 id="构造函数的初始化列表">构造函数的初始化列表</h2>

<h4 id="q-14-span-style-color-red-这题没看懂-span">Q 14 :<span style="color:red;">这题没看懂</span></h4>

<p>题目：
有哪几种情况只能用 intialization list 而不能用 assignment？</p>

<p>答案*:
1. 当类中含有const成员变量；<span style="color:red;">const 成员变量可以在 initialization list 里面初始化吗？</span>
2. 基类无默认构造函数时，有参的构造函数都需要初始化表；<span style="color:red;">这个时候不能用 assignment 吗？</span>
3. 当类中含有reference成员变量。<span style="color:red;">怎么会有 referenece 成员变量？</span></p>

<p>解答:
1. 见答案。</p>

<h2 id="类与结构体的大小">类与结构体的大小</h2>

<h4 id="q-15-http-blog-csdn-net-yby4769250-article-details-7294696"><a href="http://blog.csdn.net/yby4769250/article/details/7294696">Q 15</a> :</h4>

<p>题目：
对以下数据结构中data的处理方式描述正确的是：</p>

<pre><code>struct Node{
    int size;
    char data[0];
};
</code></pre>

<p>答案:
编译器会认为这就是一个长度为0的数组,而且会支持对于数组data的越界访问。</p>

<p>解答:
考察柔性数组。
1*. 柔性数组，作为占位符放在结构体末尾，使得结构体的大小动态可变，在声明结构体变量的时候可根据需要动态分配内存。<span style="color:red;">什么意思？什么是柔性数组？怎么使得结构体的大小动态可变的？怎么根据需要动态分配内存的？有什么好处？有坏处吗？</span>
2. 长度为0的数组并不占用空间，因为数组名本身不占空间，它只是一个偏移量， 数组名这个符号本身代表了一个不可修改的地址常量。<span style="color:red;">数组名本身不占空间，只是一个偏移量是什么意思？相对于结构体的一个偏移量吗？确认下。</span>
3. 常用于网络通信中构造不定长数据包，不会浪费空间浪费网络流量。<span style="color:red;">想具体知道他在实际中是怎么应用的。</span></p>

<h4 id="q-3-http-www-cnblogs-com-motadou-archive-2009-01-17-1558438-html"><a href="http://www.cnblogs.com/motadou/archive/2009/01/17/1558438.html">Q 3</a> :</h4>

<p>题目：
下面两个结构体：</p>

<pre><code>struct One{
    double d;
    char c;
    int i;
}
struct Two{
    char c;
    double d;
    int i;
}
</code></pre>

<p>在 #pragma pack(4) 和 #pragma pack(8) 的情况下，结构体的大小分别是：<span style="color:red;">这个 #pragma pack(4) 是在哪里写的？在程序中可以指定这种对其的字节数吗？一般什么时候需要指定？</span></p>

<p>答案:
16，16
16，24</p>

<p>解答:
考察结构体对齐。
1. 4字节对齐：Struct One[8 + (1 + 3(pading)) + 4], struct Two[(1 + 3(pading)) + 8 + 4]。
2. 8字节对齐：Struct One[8 + (1 + 3(pading) + 4)], struct Two[(1 + 7(pading)) + 8 + (4 + 4(pading))]。
3. 一句话总结：按序存储，装得下尽量装，装不下换一行。</p>

<h4 id="q-23">Q 23 :</h4>

<p>题目：
当一个类A中没有声明任何成员变量与成员函数,这时sizeof(A)的值是多少？</p>

<p>答案:
1</p>

<p>解答:
1. 一个空类对象的大小是 1byte 。这是被编译器安插进去的一个字节，这样就使得这个空类的两个实例得以在内存中配置独一无二的地址。<span style="color:red;">之前看到过，但是不知道这个字节是被编译器安插进去的。</span></p>

<h2 id="继承-虚函数">继承 虚函数</h2>

<h4 id="q-1-http-www-cnblogs-com-skynet-p-3343726-html"><a href="http://www.cnblogs.com/skynet/p/3343726.html">Q 1</a> :</h4>

<p>题目：</p>

<p>以下代码：</p>

<pre><code>class ClassA{
public:
    virtual ~ClassA(){};
    virtual void FunctionA(){};
};
class ClassB{
public:
    virtual void FunctionB(){};
};
class ClassC:public ClassA, public ClassB{
    public:
};
ClassC Object;
ClassA* pA = &amp;Object;
ClassB* pB = &amp;Object;
ClassC* pC = &amp;Object;
</code></pre>

<p>关于pA,pB,pC的取值,下面的描述中正确的是:</p>

<p>答案:
pA和pB不相同</p>

<p>解答:
考察多继承且有虚函数情况下C++存储对象模型。
1. 多继承按继承顺序组织对象模型，有虚函数时低地址包含指向虚函数表的指针。
2. 对象Object的存储模型：类A虚函数表指针(ptrA) | 类A数据 | 类B虚函数表指针(ptrB) | 类B数据 | 类C数据。
3. 子类的虚函数被放到了第一个基类的虚函数表最后（ptrA指向的虚函数表结构：类A虚函数 | 类C虚函数）。<span style="color:red;">这个地方没懂</span>
4. 有虚函数的继承，对象地址为指向虚函数表的指针的地址，即pC = &amp;Object = &amp;ptrA。<span style="color:red;">都是这样的吗？</span>
6. pC = pA = &amp;ptrA = &amp;Object，(pC = pA) &lt; pB。</p>

<h4 id="q-2-http-www-cnblogs-com-qlwy-archive-2011-08-25-2153584-html"><a href="http://www.cnblogs.com/qlwy/archive/2011/08/25/2153584.html">Q 2</a> :</h4>

<p>题目：</p>

<p>下列程序的输出结果：</p>

<pre><code>#include &lt;iostream&gt;
using namespace std;
class A{
public:
    void print(){
        cout &lt;&lt; &quot;A:print()&quot;;
    }
};
class B:private A{
public:
    void print(){
      cout &lt;&lt; &quot;B:print()&quot;;
    }
};
class C:public B{
public:
   void print(){
        A::print();
    }
};
int main(){
    C b;
    b.print();
}
</code></pre>

<p>答案:
编译出错</p>

<p>解答:
考察C++继承问题。
1. 类B私有继承类A。
2. 私有继承：类A的公有成员和保护成员都作为类B的私有成员，并且不能被类B的子类（如类C）所访问。<span style="color:red;">嗯，知道了，那么这个会使用在什么场景下？</span></p>

<h4 id="q-13-span-style-color-red-这题没看懂-span">Q 13 :<span style="color:red;">这题没看懂</span></h4>

<p>题目：
下列代码的输出为：</p>

<pre><code>class parent{
public:
    virtual void output();
};
void parent::output(){
    printf(&quot;parent!&quot;);
}
class son : public parent{
public:
    virtual void output();
};
void son::output(){
    printf(&quot;son!&quot;);
}
son s;
memset(&amp;s, 0, sizeof(s));
parent&amp; p = s;
p.output();
</code></pre>

<p><span style="color:red;">有两点不知道，一个是虚函数的继承到底是什么样的？还有一个是 memset(&amp;s,0,sizeof(s)) 这句是什么？</span></p>

<p>答案:
没有输出结果，程序运行出错。</p>

<p>解答:
考察 memset 和虚函数指针。
1. 虚函数表地址被清空。<span style="color:red;">什么是虚函数表地址被清空？如果没有那句 memset，那么输出的是什么？</span></p>

<h4 id="q-20">Q 20 :</h4>

<p>题目：
请选择下列程序的运行结果:</p>

<pre><code>#include&lt;iostream&gt;
using namespace std;
class B0{
public:
    virtual void display(){
        cout &lt;&lt; &quot;B0::display0&quot; &lt;&lt; endl;
    }
};
class B1:public B0{
public:
    void display(){
        cout &lt;&lt; &quot;B1::display0&quot; &lt;&lt; endl;
    }
};
class D1: public B1{
public:
    void display(){
        cout &lt;&lt; &quot;D1::display0&quot; &lt;&lt; endl;
    }
};
void fun(B0 ptr){
    ptr.display();
}
int main(){
    B0 b0;
    B1 b1;
    D1 d1;
    fun(b0);
    fun(b1);
    fun(d1);
}
</code></pre>

<p>答案:
B0::display0
B0::display0
B0::display0
解答:
1. 这里传递的是对象本身而非指针，对象被直接转为基类对象，调用基类的函数。<span style="color:red;">这个不知道，对象被直接转为基类对象，调用基类的函数，那么虚函数也会被调用吗？</span>
2. 如果要实现虚函数动态绑定需要将 B0 ptr 改为 B0* ptr，ptr-&gt;display()。<span style="color:red;">也就是说，如果传递进去的是指针，那么就可以动态调用不同的基类里面的函数？</span>
3. 对象的形参传递需要先使用拷贝构造函数（默认）生成 B0 类型的临时变量，只拷贝基类部分数据（只有指向基类虚函数表的虚函数指针）。<span style="color:red;">嗯，也就是说，如果传递进去的是对象本身，那么实际上是会通过默认的拷贝构造函数生成一个 B0 类型的临时变量，所以，调用的 display() 是这个 B0 类型的临时变量的函数。嗯，这个还是很好的。</span></p>

    </div>

    
    

    
    

    <footer class="post-footer">
      

      
      <nav class="post-nav">
        
          <a class="prev" href="/post/01-%E7%9F%A5%E8%AF%86%E6%A0%91/03-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/01-%E5%9F%BA%E7%A1%80%E7%BC%96%E7%A8%8B/01-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/01-c&#43;&#43;/c&#43;&#43;-%E9%A2%98%E7%9B%AE/%E6%9C%89%E7%AC%A6%E5%8F%B7%E6%95%B0-%E6%97%A0%E7%AC%A6%E5%8F%B7%E6%95%B0%E9%97%AE%E9%A2%98/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">有符号数-无符号数问题</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        
          <a class="next" href="/post/01-%E7%9F%A5%E8%AF%86%E6%A0%91/03-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/01-%E5%9F%BA%E7%A1%80%E7%BC%96%E7%A8%8B/01-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/01-c&#43;&#43;/c&#43;&#43;-%E9%A2%98%E7%9B%AE/%E8%BF%90%E7%AE%97%E6%93%8D%E4%BD%9C/">
            <span class="next-text nav-default">运算操作</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        
  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="iteratelyd@gmail.com" class="iconfont icon-email" title="email"></a>
      <a href="http://github.com/iterateself" class="iconfont icon-github" title="github"></a>
      <a href="https://www.zhihu.com/people/thebegin/activities" class="iconfont icon-zhihu" title="zhihu"></a>
      <a href="https://www.douban.com/people/68028070/" class="iconfont icon-douban" title="douban"></a>
  <a href="http://iterate.site/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  <div class="busuanzi-footer">
    <span id="busuanzi_container_site_pv"> site pv: <span id="busuanzi_value_site_pv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> </span>
    <span class="division">|</span>
    <span id="busuanzi_container_site_uv"> site uv: <span id="busuanzi_value_site_uv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> </span>
  </div>

  <span class="copyright-year">
    &copy; 
    2018
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">iterateself</span>
  </span>
</div>
    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
<script src="/lib/highlight/highlight.pack.js?v=20171001"></script><script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox-3.1.20.min.js"></script>


<script type="text/javascript" src="/dist/even.min.js?v=3.2.0"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]},
      showProcessingMessages: false,
      messageStyle: 'none'
    };
  </script>
  <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script>








</body>
</html>
