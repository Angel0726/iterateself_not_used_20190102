<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Python2.x与3​​.x版本区别 - 迭代自己</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="iterateself" />
  <meta name="description" content="需要补充的 要合并到 Python 2 与 3 里面 Python的3​​.0版本，常被称为Python 3000，或简称Py3k。相对于Python的早期版本，这是" />

  <meta name="keywords" content="Hugo, theme, even" />






<meta name="generator" content="Hugo 0.47.1" />


<link rel="canonical" href="http://iterate.site/post/01-%E7%9F%A5%E8%AF%86%E6%A0%91/03-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/01-%E5%9F%BA%E7%A1%80%E7%BC%96%E7%A8%8B/01-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/02-python/02-python-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/python2.x%E4%B8%8E3.x%E7%89%88%E6%9C%AC%E5%8C%BA%E5%88%AB/" />

<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">




<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>


<link href="/dist/even.min.css?v=3.2.0" rel="stylesheet">
<link href="/lib/fancybox/jquery.fancybox-3.1.20.min.css" rel="stylesheet">




<meta property="og:title" content="Python2.x与3​​.x版本区别" />
<meta property="og:description" content="需要补充的 要合并到 Python 2 与 3 里面 Python的3​​.0版本，常被称为Python 3000，或简称Py3k。相对于Python的早期版本，这是" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://iterate.site/post/01-%E7%9F%A5%E8%AF%86%E6%A0%91/03-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/01-%E5%9F%BA%E7%A1%80%E7%BC%96%E7%A8%8B/01-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/02-python/02-python-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/python2.x%E4%B8%8E3.x%E7%89%88%E6%9C%AC%E5%8C%BA%E5%88%AB/" /><meta property="article:published_time" content="2018-06-14T14:58:20&#43;00:00"/>
<meta property="article:modified_time" content="2018-06-14T14:58:20&#43;00:00"/>
<meta itemprop="name" content="Python2.x与3​​.x版本区别">
<meta itemprop="description" content="需要补充的 要合并到 Python 2 与 3 里面 Python的3​​.0版本，常被称为Python 3000，或简称Py3k。相对于Python的早期版本，这是">


<meta itemprop="datePublished" content="2018-06-14T14:58:20&#43;00:00" />
<meta itemprop="dateModified" content="2018-06-14T14:58:20&#43;00:00" />
<meta itemprop="wordCount" content="2788">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Python2.x与3​​.x版本区别"/>
<meta name="twitter:description" content="需要补充的 要合并到 Python 2 与 3 里面 Python的3​​.0版本，常被称为Python 3000，或简称Py3k。相对于Python的早期版本，这是"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">迭代自己</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">最新</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">归档</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">关于</li>
      </a><a href="/catalog/">
        <li class="mobile-menu-item">完整目录</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">迭代自己</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">最新</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">归档</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">关于</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/catalog/">完整目录</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Python2.x与3​​.x版本区别</h1>

      <div class="post-meta">
        <span class="post-time"> 2018-06-14 </span>
        
        <span class="more-meta"> 2788 words </span>
        <span class="more-meta"> 6 mins read </span>
        <span id="busuanzi_container_page_pv" class="more-meta"> <span id="busuanzi_value_page_pv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> times read </span>
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  
  <div class="post-toc-content">
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#需要补充的">需要补充的</a></li>
<li><a href="#新的python程式建议使用python-3-0版本的语法">新的Python程式建议使用Python 3.0版本的语法。</a></li>
<li><a href="#print-函数">print 函数</a></li>
<li><a href="#unicode">Unicode</a></li>
<li><a href="#除法运算">除法运算</a></li>
<li><a href="#异常">异常</a></li>
<li><a href="#xrange">xrange</a></li>
<li><a href="#八进制字面量表示">八进制字面量表示</a></li>
<li><a href="#不等运算符">不等运算符</a></li>
<li><a href="#去掉了repr表达式">去掉了repr表达式``</a></li>
<li><a href="#多个模块被改名-根据pep8">多个模块被改名（根据PEP8）</a></li>
<li><a href="#5-数据类型">5.数据类型</a></li>
<li><a href="#相关资料">相关资料</a></li>
</ul></li>
</ul>
</nav>
  </div>
</div>

    
    

    
    <div class="post-content">
      

<h2 id="需要补充的">需要补充的</h2>

<ul>
<li>要合并到 Python 2 与 3 里面</li>
</ul>

<hr />

<p>Python的3​​.0版本，常被称为Python 3000，或简称Py3k。相对于Python的早期版本，这是一个较大的升级。</p>

<p>为了不带入过多的累赘，Python 3.0在设计的时候没有考虑向下相容。</p>

<p>许多针对早期Python版本设计的程式都无法在Python 3.0上正常执行。</p>

<p>为了照顾现有程式，Python 2.6作为一个过渡版本，基本使用了Python 2.x的语法和库，同时考虑了向Python 3.0的迁移，允许使用部分Python 3.0的语法与函数。</p>

<h2 id="新的python程式建议使用python-3-0版本的语法">新的Python程式建议使用Python 3.0版本的语法。</h2>

<p>除非执行环境无法安装Python 3.0或者程式本身使用了不支援Python 3.0的第三方库。目前不支援Python 3.0的第三方库有Twisted, py2exe, PIL等。</p>

<p>大多数第三方库都正在努力地相容Python 3.0版本。即使无法立即使用Python 3.0，也建议编写相容Python 3.0版本的程式，然后使用Python 2.6, Python 2.7来执行。</p>

<p>Python 3.0的变化主要在以下几个方面:</p>

<hr />

<h2 id="print-函数">print 函数</h2>

<p>print语句没有了，取而代之的是print()函数。 Python 2.6与Python 2.7部分地支持这种形式的print语法。在Python 2.6与Python 2.7里面，以下三种形式是等价的：</p>

<pre><code>print &quot;fish&quot;
print (&quot;fish&quot;) #注意print后面有个空格
print(&quot;fish&quot;) #print()不能带有任何其它参数
</code></pre>

<p>然而，Python 2.6实际已经支持新的print()语法：</p>

<pre><code>from __future__ import print_function
print(&quot;fish&quot;, &quot;panda&quot;, sep=', ')
</code></pre>

<hr />

<h2 id="unicode">Unicode</h2>

<p>Python 2 有 ASCII str() 类型，unicode() 是单独的，不是 byte 类型。</p>

<p>现在， 在 Python 3，我们最终有了 Unicode (utf-8) 字符串，以及一个字节类：byte 和 bytearrays。</p>

<p>由于 Python3.X 源码文件默认使用utf-8编码，这就使得以下代码是合法的：</p>

<pre><code>&gt;&gt;&gt; 中国 = 'china' 
&gt;&gt;&gt;print(中国) 
china
</code></pre>

<p>Python 2.x</p>

<pre><code>&gt;&gt;&gt; str = &quot;我爱北京天安门&quot;
&gt;&gt;&gt; str
'\xe6\x88\x91\xe7\x88\xb1\xe5\x8c\x97\xe4\xba\xac\xe5\xa4\xa9\xe5\xae\x89\xe9\x97\xa8'
&gt;&gt;&gt; str = u&quot;我爱北京天安门&quot;
&gt;&gt;&gt; str
u'\u6211\u7231\u5317\u4eac\u5929\u5b89\u95e8'
</code></pre>

<p>Python 3.x</p>

<pre><code>&gt;&gt;&gt; str = &quot;我爱北京天安门&quot;
&gt;&gt;&gt; str
'我爱北京天安门'
</code></pre>

<hr />

<h2 id="除法运算">除法运算</h2>

<p>Python中的除法较其它语言显得非常高端，有套很复杂的规则。Python中的除法有两个运算符，/和//</p>

<p>首先来说/除法:</p>

<p>在python 2.x中/除法就跟我们熟悉的大多数语言，比如Java啊C啊差不多，整数相除的结果是一个整数，把小数部分完全忽略掉，浮点数除法会保留小数点的部分得到一个浮点数的结果。</p>

<p>在python 3.x中/除法不再这么做了，对于整数之间的相除，结果也会是浮点数。</p>

<p>Python 2.x:</p>

<pre><code>&gt;&gt;&gt; 1 / 2
0
&gt;&gt;&gt; 1.0 / 2.0
0.5
</code></pre>

<p>Python 3.x:</p>

<pre><code>&gt;&gt;&gt; 1/2
0.5
</code></pre>

<p>而对于//除法，这种除法叫做floor除法，会对除法的结果自动进行一个floor操作，在python 2.x和python 3.x中是一致的。</p>

<p>python 2.x:</p>

<pre><code>&gt;&gt;&gt; -1 // 2
-1
</code></pre>

<p>python 3.x:</p>

<pre><code>&gt;&gt;&gt; -1 // 2
-1
</code></pre>

<p>注意的是并不是舍弃小数部分，而是执行floor操作，如果要截取小数部分，那么需要使用math模块的trunc函数</p>

<p>python 3.x:</p>

<pre><code>&gt;&gt;&gt; import math
&gt;&gt;&gt; math.trunc(1 / 2)
0
&gt;&gt;&gt; math.trunc(-1 / 2)
0
</code></pre>

<hr />

<h2 id="异常">异常</h2>

<p>在 Python 3 中处理异常也轻微的改变了，在 Python 3 中我们现在使用 as 作为关键词。</p>

<p>捕获异常的语法由 except exc, var 改为 except exc as var。</p>

<p>使用语法except (exc1, exc2) as var可以同时捕获多种类别的异常。 Python 2.6已经支持这两种语法。</p>

<ul>
<li><ol>
<li>在2.x时代，所有类型的对象都是可以被直接抛出的，在3.x时代，只有继承自BaseException的对象才可以被抛出。</li>
</ol></li>

<li><ol>
<li>2.x raise语句使用逗号将抛出对象类型和参数分开，3.x取消了这种奇葩的写法，直接调用构造函数抛出对象即可。</li>
</ol></li>
</ul>

<p>在2.x时代，异常在代码中除了表示程序错误，还经常做一些普通控制结构应该做的事情，在3.x中可以看出，设计者让异常变的更加专一，只有在错误发生的情况才能去用异常捕获语句来处理。</p>

<hr />

<h2 id="xrange">xrange</h2>

<p>在 Python 2 中 xrange() 创建迭代对象的用法是非常流行的。比如： for 循环或者是列表/集合/字典推导式。</p>

<p>这个表现十分像生成器（比如。&rdquo;惰性求值&rdquo;）。但是这个 xrange-iterable 是无穷的，意味着你可以无限遍历。</p>

<p>由于它的惰性求值，如果你不得仅仅不遍历它一次，xrange() 函数 比 range() 更快（比如 for 循环）。尽管如此，对比迭代一次，不建议你重复迭代多次，因为生成器每次都从头开始。</p>

<p>在 Python 3 中，range() 是像 xrange() 那样实现以至于一个专门的 xrange() 函数都不再存在（在 Python 3 中 xrange() 会抛出命名异常）。</p>

<pre><code>import timeit

n = 10000
def test_range(n):
    return for i in range(n):
        pass

def test_xrange(n):
    for i in xrange(n):
        pass
</code></pre>

<p>Python 2</p>

<pre><code>print 'Python', python_version()

print '\ntiming range()' 
%timeit test_range(n)

print '\n\ntiming xrange()' 
%timeit test_xrange(n)

Python 2.7.6

timing range()
1000 loops, best of 3: 433 µs per loop
</code></pre>

<p>​<br />
    timing xrange()
    1000 loops, best of 3: 350 µs per loop</p>

<p>Python 3</p>

<pre><code>print('Python', python_version())

print('\ntiming range()')
%timeit test_range(n)

Python 3.4.1

timing range()
1000 loops, best of 3: 520 µs per loop




print(xrange(10))
---------------------------------------------------------------------------
NameError                                 Traceback (most recent call last)
&lt;ipython-input-5-5d8f9b79ea70&gt; in &lt;module&gt;()
----&gt; 1 print(xrange(10))

NameError: name 'xrange' is not defined&lt;span id=&quot;mce_marker&quot; data-mce-type=&quot;bookmark&quot; data-mce-fragment=&quot;1&quot;&gt;​&lt;/span&gt;
</code></pre>

<hr />

<h2 id="八进制字面量表示">八进制字面量表示</h2>

<p>八进制数必须写成0o777，原来的形式0777不能用了；二进制必须写成0b111。</p>

<p>新增了一个bin()函数用于将一个整数转换成二进制字串。 Python 2.6已经支持这两种语法。</p>

<p>在Python 3.x中，表示八进制字面量的方式只有一种，就是0o1000。</p>

<p>python 2.x</p>

<pre><code>&gt;&gt;&gt; 0o1000
512
&gt;&gt;&gt; 01000
512
</code></pre>

<p>python 3.x</p>

<pre><code>&gt;&gt;&gt; 01000
  File &quot;&lt;stdin&gt;&quot;, line 1
    01000
        ^
SyntaxError: invalid token
&gt;&gt;&gt; 0o1000
512&lt;span id=&quot;mce_marker&quot; data-mce-type=&quot;bookmark&quot; data-mce-fragment=&quot;1&quot;&gt;​&lt;/span&gt;
</code></pre>

<hr />

<h2 id="不等运算符">不等运算符</h2>

<p>Python 2.x中不等于有两种写法 != 和 &lt;&gt;</p>

<p>Python 3.x中去掉了&lt;&gt;, 只有!=一种写法，还好，我从来没有使用&lt;&gt;的习惯</p>

<hr />

<h2 id="去掉了repr表达式">去掉了repr表达式``</h2>

<p>Python 2.x 中反引号``相当于repr函数的作用</p>

<p>Python 3.x 中去掉了``这种写法，只允许使用repr函数，这样做的目的是为了使代码看上去更清晰么？不过我感觉用repr的机会很少，一般只在debug的时候才用，多数时候还是用str函数来用字符串描述对象。</p>

<pre><code>def sendMail(from_: str, to: str, title: str, body: str) -&gt; bool:
    pass&lt;span id=&quot;mce_marker&quot; data-mce-type=&quot;bookmark&quot; data-mce-fragment=&quot;1&quot;&gt;​&lt;/span&gt;
</code></pre>

<hr />

<h2 id="多个模块被改名-根据pep8">多个模块被改名（根据PEP8）</h2>

<p><table class="reference " >
<tbody >
<tr >
旧的名字
新的名字
</tr>
<tr ></p>

<p><td >_winreg
</td></p>

<p><td >winreg
</td>
</tr>
<tr ></p>

<p><td >ConfigParser
</td></p>

<p><td >configparser
</td>
</tr>
<tr ></p>

<p><td >copy_reg
</td></p>

<p><td >copyreg
</td>
</tr>
<tr ></p>

<p><td >Queue
</td></p>

<p><td >queue
</td>
</tr>
<tr ></p>

<p><td >SocketServer
</td></p>

<p><td >socketserver
</td>
</tr>
<tr ></p>

<p><td >repr
</td></p>

<p><td >reprlib
</td>
</tr>
</tbody>
</table>
StringIO模块现在被合并到新的io模组内。 new, md5, gopherlib等模块被删除。 Python 2.6已经支援新的io模组。</p>

<p>httplib, BaseHTTPServer, CGIHTTPServer, SimpleHTTPServer, Cookie, cookielib被合并到http包内。</p>

<p>取消了exec语句，只剩下exec()函数。 Python 2.6已经支援exec()函数。</p>

<hr />

<h2 id="5-数据类型">5.数据类型</h2>

<p>1）Py3.X去除了long类型，现在只有一种整型——int，但它的行为就像2.X版本的long</p>

<p>2）新增了bytes类型，对应于2.X版本的八位串，定义一个bytes字面量的方法如下：</p>

<pre><code>&gt;&gt;&gt; b = b'china' 
&gt;&gt;&gt; type(b) 
&lt;type 'bytes'&gt;
</code></pre>

<p>str对象和bytes对象可以使用.encode() (str -&gt; bytes) or .decode() (bytes -&gt; str)方法相互转化。</p>

<pre><code>&gt;&gt;&gt; s = b.decode() 
&gt;&gt;&gt; s 
'china' 
&gt;&gt;&gt; b1 = s.encode() 
&gt;&gt;&gt; b1 
b'china'
</code></pre>

<p>3）dict的.keys()、.items 和.values()方法返回迭代器，而之前的iterkeys()等函数都被废弃。同时去掉的还有 dict.has_key()，用 in替代它吧 。</p>

<h2 id="相关资料">相关资料</h2>

<ol>
<li><a href="https://www.w3cschool.cn/python/">python基础教程 w3cschool</a></li>
<li><a href="http://www.runoob.com/python3/python3-tutorial.html">Python 3 教程 菜鸟教程</a></li>
</ol>

    </div>

    
    

    
    

    <footer class="post-footer">
      

      
      <nav class="post-nav">
        
          <a class="prev" href="/post/01-%E7%9F%A5%E8%AF%86%E6%A0%91/03-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/01-%E5%9F%BA%E7%A1%80%E7%BC%96%E7%A8%8B/01-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/02-python/03-python-%E7%A7%91%E5%AD%A6%E8%AE%A1%E7%AE%97/seaborn/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">seaborn</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        
          <a class="next" href="/post/01-%E7%9F%A5%E8%AF%86%E6%A0%91/03-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/01-%E5%9F%BA%E7%A1%80%E7%BC%96%E7%A8%8B/01-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/02-python/01-python-%E4%BB%8B%E7%BB%8D/01-python-%E4%BB%8B%E7%BB%8D/python-2-%E4%B8%8E-3/">
            <span class="next-text nav-default">Python 2 与 3</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        
  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="iteratelyd@gmail.com" class="iconfont icon-email" title="email"></a>
      <a href="http://github.com/iterateself" class="iconfont icon-github" title="github"></a>
      <a href="https://www.zhihu.com/people/thebegin/activities" class="iconfont icon-zhihu" title="zhihu"></a>
      <a href="https://www.douban.com/people/68028070/" class="iconfont icon-douban" title="douban"></a>
  <a href="http://iterate.site/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  <div class="busuanzi-footer">
    <span id="busuanzi_container_site_pv"> site pv: <span id="busuanzi_value_site_pv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> </span>
    <span class="division">|</span>
    <span id="busuanzi_container_site_uv"> site uv: <span id="busuanzi_value_site_uv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> </span>
  </div>

  <span class="copyright-year">
    &copy; 
    2018
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">iterateself</span>
  </span>
</div>
    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
<script src="/lib/highlight/highlight.pack.js?v=20171001"></script><script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox-3.1.20.min.js"></script>


<script type="text/javascript" src="/dist/even.min.js?v=3.2.0"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]},
      showProcessingMessages: false,
      messageStyle: 'none'
    };
  </script>
  <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script>








</body>
</html>
