<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>04 一阶规则学习 - 迭代自己</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="iterateself" />
  <meta name="description" content="一阶规则学习 受限于命题逻辑表达能力，命题规则学习难以处理对象之间的“关系”(relation)，而关系信息在很多任务中非常重要.例如，我们在" />

  <meta name="keywords" content="Hugo, theme, even" />






<meta name="generator" content="Hugo 0.47.1" />


<link rel="canonical" href="http://iterate.site/post/01-%E7%9F%A5%E8%AF%86%E6%A0%91/02-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/01-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%90%86%E8%AE%BA/02-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/04-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AE%97%E6%B3%95/11-%E8%A7%84%E5%88%99%E5%AD%A6%E4%B9%A0/04-%E4%B8%80%E9%98%B6%E8%A7%84%E5%88%99%E5%AD%A6%E4%B9%A0/" />

<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">




<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>


<link href="/dist/even.min.css?v=3.2.0" rel="stylesheet">
<link href="/lib/fancybox/jquery.fancybox-3.1.20.min.css" rel="stylesheet">




<meta property="og:title" content="04 一阶规则学习" />
<meta property="og:description" content="一阶规则学习 受限于命题逻辑表达能力，命题规则学习难以处理对象之间的“关系”(relation)，而关系信息在很多任务中非常重要.例如，我们在" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://iterate.site/post/01-%E7%9F%A5%E8%AF%86%E6%A0%91/02-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/01-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%90%86%E8%AE%BA/02-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/04-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AE%97%E6%B3%95/11-%E8%A7%84%E5%88%99%E5%AD%A6%E4%B9%A0/04-%E4%B8%80%E9%98%B6%E8%A7%84%E5%88%99%E5%AD%A6%E4%B9%A0/" /><meta property="article:published_time" content="2018-07-01T15:18:22&#43;00:00"/>
<meta property="article:modified_time" content="2018-07-01T15:18:22&#43;00:00"/>
<meta itemprop="name" content="04 一阶规则学习">
<meta itemprop="description" content="一阶规则学习 受限于命题逻辑表达能力，命题规则学习难以处理对象之间的“关系”(relation)，而关系信息在很多任务中非常重要.例如，我们在">


<meta itemprop="datePublished" content="2018-07-01T15:18:22&#43;00:00" />
<meta itemprop="dateModified" content="2018-07-01T15:18:22&#43;00:00" />
<meta itemprop="wordCount" content="2019">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="04 一阶规则学习"/>
<meta name="twitter:description" content="一阶规则学习 受限于命题逻辑表达能力，命题规则学习难以处理对象之间的“关系”(relation)，而关系信息在很多任务中非常重要.例如，我们在"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">迭代自己</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">主页</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">归档</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">关于</li>
      </a><a href="/catalog/">
        <li class="mobile-menu-item">目录</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">迭代自己</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">主页</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">归档</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">关于</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/catalog/">目录</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">04 一阶规则学习</h1>

      <div class="post-meta">
        <span class="post-time"> 2018-07-01 </span>
        
        <span class="more-meta"> 2019 words </span>
        <span class="more-meta"> 5 mins read </span>
        <span id="busuanzi_container_page_pv" class="more-meta"> <span id="busuanzi_value_page_pv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> times read </span>
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  
  <div class="post-toc-content">
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#相关资料">相关资料</a></li>
</ul></li>
</ul>
</nav>
  </div>
</div>

    
    

    
    <div class="post-content">
      

<p>一阶规则学习</p>

<p>受限于命题逻辑表达能力，命题规则学习难以处理对象之间的“关系”(relation)，而关系信息在很多任务中非常重要.例如，我们在现实世界挑 选西瓜时，通常很难把水果摊上所有西瓜的特征用属性值描述出来，因为我们 很难判断：色泽看起来多深才叫 “色泽青绿” ？敲起来声音多低才叫“敲声沉闷”？比较现实的做法是将西瓜进行相互比较，例如，“瓜1的颜色比瓜2更深，并且瓜1的根蒂比瓜2更蜷”，因此“瓜1比瓜2更好”。然而，这已超越了命题逻辑的表达能力，需用一阶逻辑表示，并且要使用一阶规则学习.</p>

<p>对西瓜数据，我们不妨定义：</p>

<ul>
<li>色泽深度：乌黑 &gt; 青绿 &gt; 浅白；</li>
<li>根蒂蝽度：蜷缩 &gt; 稍蜷 &gt; 硬挺；</li>
<li>敲声沉度: 沉闷 &gt; 浊响 &gt; 清脆；</li>
<li>纹理清晰度：清晰 &gt; 稍糊 &gt; 模糊；</li>
<li>脐部凹陷度：凹陷 &gt; 稍凹 &gt; 平坦；</li>
<li>触感硬度: 硬滑 &gt; 软粘.</li>
</ul>

<p>于是，西瓜数据集2.0训练集就转化为表15.1的西瓜数据集5.0.</p>

<p><img src="http://pacdb2bfr.bkt.clouddn.com/blog/image/180701/Cc5aiE4fh1.png?imageslim" alt="mark" /></p>

<p>分隔线上半部分为背景 知识，下半部分为样例.</p>

<p>这样的数据直接描述了样例间的关系，称为“关系数据” (relational data),其中由原样本属性转化而来的“色泽更深” “根蒂更蜷”等原子公式称为 “背景知 识” (background knowledge),而由样本类别转化而来的关于 “更好” “$\neg$更好” 的原子公式称为关系数据样例(examples).从西瓜数据集5.0可学出这样 的一阶规则：</p>

<p><img src="http://pacdb2bfr.bkt.clouddn.com/blog/image/180701/K0cb0h7CFm.png?imageslim" alt="mark" /></p>

<p>显然，一阶规则仍是式(15.1)的形式，但其规则头、规则体都是一阶逻辑表达式，“更好$(\cdot,\cdot)$”、“根蒂更蜷$(\cdot,\cdot)$”、“脐部更凹$(\cdot,\cdot)$”是关系描述所对应的谓词，个体对象“瓜1”、“瓜2”被逻辑变量“X”、“Y”替换.全称量词 “$\forall$” 表示该规则对所有个体对象都成立;</p>

<p>通常，在一阶规则中所有出现的变量都被全称量词限定，因此下面我们在不影响理解的情况下将省略量词部分.</p>

<p>一阶规则有强大的表达能力，例如它能简洁地表达递归概念，如</p>

<p><img src="http://pacdb2bfr.bkt.clouddn.com/blog/image/180701/Lh2Bgf46KF.png?imageslim" alt="mark" /></p>

<p>一阶规则学习能容易地引入领域知识，这是它相对于命题规则学习的另一大优势.在命题规则学习乃至一般的统计学习中，若欲引入领域知识，通常有两种做法：</p>

<ul>
<li>在现有属性的基础上基于领域知识构造出新属性，</li>
<li>或基于领域知识设计某种函数枫制（例如正则化）来对假设空间加以约束</li>
</ul>

<p>然而，现实任务中并非所有的领域知识都能容易地通过属性重构和函数约束来表达.例如，假定获得了包含某未知元素的化合物 $X$ ，欲通过试验来发现它与已知化合物 $Y$ 的反应方程式.我们可多次重复试验，测出每次结果中化合物的组分含量.虽然我们 对反应中的未知元素性质一无所知，但知道一些普遍成立的化学原理，例如金属原子一般产生离子键、氢原子之间一般都是共价键等，并且也了解已知元素间可能发生的反应.有了这些领域知识，重复几次试验后就不难学出 $X$ 和 $Y$ 的反应方程式，还可能推测出 $X$ 的性质、甚至发现新的分子和元素。类似这样的领域知识充斥在日常生活与各类任务中，但在基于命题表示的学习中加以利用却非常困难.</p>

<p>FOIL （First-Order Inductive Learner）是著名的一阶规则 学习算法，它遵循序贯覆盖框架且采用自顶向下的规则归纳策略，与15.2节中 的命题规则学习过程很相似。但由于逻辑变量的存在，FOIL在规则生成时需考虑不同的变量组合。例如在西瓜数据集 5.0 上，对 “更好(X,K)” 这个概念，最初的空规则是</p>

<p><img src="http://pacdb2bfr.bkt.clouddn.com/blog/image/180701/dmLJK7lFaK.png?imageslim" alt="mark" /></p>

<p>接下来要考虑数据中所有其他谓词以及各种变量搭配作为候选文字.新加入的文字应包含至少一个已出现的变量，否则没有任何实质意义.在这个例子中考虑下列候选文字：</p>

<p><img src="http://pacdb2bfr.bkt.clouddn.com/blog/image/180701/2f1LDCBgDL.png?imageslim" alt="mark" /></p>

<p>FOIL使用 “FOIL増益”(FOIL gain) 来选择文字:</p>

<p><img src="http://pacdb2bfr.bkt.clouddn.com/blog/image/180701/hf4jDGllG1.png?imageslim" alt="mark" /></p>

<p>其中，$\hat{m}<em>+$ ,$\hat{m}</em>-$ 分别为増加候选文字后新规则所覆盖的正、反例数；$m<em>+$,$m</em>-$ 为原规则覆盖的正、反例数。FOIL增益与决策树使用的信息増益不同，它仅考虑正例的信息量，并且用新规则覆盖的正例数作为权重.这是由于关系数据中正例数往往远少于反例数，因此通常对正例应赋予更多的关注。</p>

<p>在西瓜数据集5.0的例子中，只需给初始的空规则体加入 “色泽更深(X,Y)” 或 “脐部更凹(X,Y)”，新规则就能覆盖 16 个正例和 2 个反例，所对应的FOIL増益为候选最大值 $16\times (log_2\frac{16}{18}-log_2\frac{25}{50})=13.28$ 。假定前者被选中，则得到</p>

<p>$$ 更好(X,Y)\leftarrow 色泽更深(X,Y)$$</p>

<p>该规则仍覆盖2个反例：“更好(15,1)” 与 “更好(15, 6)” 。于是，FOIL像命 题规则学习那样继续増加规则体长度，最终生成合适的单条规则加入规则集. 此后，FOIL使用后剪枝对规则集进行优化.</p>

<p>若允许将目标谓词作为候选文字加入规则体，则 FOIL 能学出递归规则; 若允许将否定形式的文字 $\neg f$ 作为候选，则往往能得到更简洁的规则集.</p>

<p>FOIL可大致看作命题规则学习与归纳逻辑程序设计之间的过渡，其自顶向下的规则生成过程不能支持函数和逻辑表达式嵌套，因此规则表达能力仍有不足;但它是把命题规则学习过程通过变量替换等操作直接转化为一阶规则学习，因此比一般归纳逻辑程序设计技术更高效.</p>

<h2 id="相关资料">相关资料</h2>

<ol>
<li>《机器学习》周志华</li>
</ol>

    </div>

    
    

    
    

    <footer class="post-footer">
      

      
      <nav class="post-nav">
        
          <a class="prev" href="/post/01-%E7%9F%A5%E8%AF%86%E6%A0%91/02-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/01-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%90%86%E8%AE%BA/04-%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/04-%E5%85%8D%E6%A8%A1%E5%9E%8B%E5%AD%A6%E4%B9%A0/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">04 免模型学习</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        
          <a class="next" href="/post/01-%E7%9F%A5%E8%AF%86%E6%A0%91/02-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/01-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%90%86%E8%AE%BA/02-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/04-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AE%97%E6%B3%95/11-%E8%A7%84%E5%88%99%E5%AD%A6%E4%B9%A0/01-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/">
            <span class="next-text nav-default">01 基本概念</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        
  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="iteratelyd@gmail.com" class="iconfont icon-email" title="email"></a>
      <a href="http://github.com/iterateself" class="iconfont icon-github" title="github"></a>
      <a href="https://www.zhihu.com/people/thebegin/activities" class="iconfont icon-zhihu" title="zhihu"></a>
      <a href="https://www.douban.com/people/68028070/" class="iconfont icon-douban" title="douban"></a>
  <a href="http://iterate.site/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  <div class="busuanzi-footer">
    <span id="busuanzi_container_site_pv"> site pv: <span id="busuanzi_value_site_pv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> </span>
    <span class="division">|</span>
    <span id="busuanzi_container_site_uv"> site uv: <span id="busuanzi_value_site_uv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> </span>
  </div>

  <span class="copyright-year">
    &copy; 
    2018
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">iterateself</span>
  </span>
</div>
    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
<script src="/lib/highlight/highlight.pack.js?v=20171001"></script><script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox-3.1.20.min.js"></script>


<script type="text/javascript" src="/dist/even.min.js?v=3.2.0"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]},
      showProcessingMessages: false,
      messageStyle: 'none'
    };
  </script>
  <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script>








</body>
</html>
